\* BM25ScoreCommutativity TLC Configuration
\*
\* Run with:
\*   java -jar tla2tools.jar -config BM25ScoreCommutativity.cfg BM25ScoreCommutativity.tla
\*
\* Expected: All invariants hold (correctness proof).
\* Verifies algebraic properties of BM25 multi-field scoring.

SPECIFICATION Spec

\* Deadlock is expected: computation terminates at pc = "done".
CHECK_DEADLOCK FALSE

\* Type checking.
INVARIANT TypeOK

\* Sum([A,B]) == Sum([B,A]).
INVARIANT SumCommutativity

\* Same data via WAL vs segment produces identical BM25 scores.
INVARIANT WalVsSegmentEquivalence

\* Product combinator is deterministic regardless of field order.
INVARIANT ProductAssociativity

\* Top-K result set is stable (no non-determinism for equal scores).
INVARIANT TopKStability
