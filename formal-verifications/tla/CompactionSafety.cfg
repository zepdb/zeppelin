\* CompactionSafety TLC Configuration
\*
\* Run with:
\*   java -jar tla2tools.jar -config CompactionSafety.cfg CompactionSafety.tla
\*
\* Expected: TLC finds a counterexample for NoSilentDataLoss.
\* The trace demonstrates the append-during-compaction data loss bug.

SPECIFICATION Spec

\* Primary invariant — EXPECTED TO FAIL.
\* TLC will produce a counterexample trace showing how a committed
\* fragment becomes unreachable after compaction overwrites the manifest.
INVARIANT NoSilentDataLoss

\* Secondary invariants — expected to hold.
\* Uncomment to verify type safety and S3 data integrity:
\* INVARIANT TypeOK
\* INVARIANT ManifestRefsExistOnS3
