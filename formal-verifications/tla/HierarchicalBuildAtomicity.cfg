\* HierarchicalBuildAtomicity TLC Configuration
\*
\* Run with:
\*   java -jar tla2tools.jar -config HierarchicalBuildAtomicity.cfg HierarchicalBuildAtomicity.tla
\*
\* Expected: All invariants hold (no counterexamples).
\* Verifies that queries never observe a partially-built hierarchical
\* tree during concurrent compaction.

SPECIFICATION Spec

\* Deadlock is expected: both processes terminate.
CHECK_DEADLOCK FALSE

\* A query that detects hierarchical always reads complete tree data.
INVARIANT QuerySeesCompleteTree

\* tree_meta.json existence guarantees all tree objects exist.
INVARIANT NoPartialTreeVisible

\* Type checking.
INVARIANT TypeOK
